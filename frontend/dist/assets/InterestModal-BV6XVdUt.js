import{r as a,j as e,V as n,a3 as p,J as S,U as T}from"./vendor-Cul97NbA.js";import{A as k}from"./index-STTFwuxj.js";function w(){const{data:s}=a.useContext(k),[d,l]=a.useState(!1),[o,x]=a.useState(""),c={join:{message:`Apakah Anda tertarik bergabung menjadi Bagian dari ${s.namaOrganisasi}?`,buttonText:"Ya, Saya Tertarik",buttonLink:"/pendaftaran"},donate:{message:`Apakah Anda bersedia untuk menjadi donatur ${s.namaOrganisasi}?`,buttonText:"Ya, Saya Berminat",buttonLink:"/donation"}},[i,f]=a.useState(c.join),m=()=>{if(l(!1),o==="hideToday")localStorage.setItem("hideModalTimestamp",Date.now().toString());else if(o==="notInterested"){const t=Date.now()+12096e5;localStorage.setItem("hideInterestModalUntil",t.toString())}},u=t=>{x(t.target.value)};return a.useEffect(()=>{const t=localStorage.getItem("hideInterestModalUntil");if(t){if(Date.now()<parseInt(t,10))return;localStorage.removeItem("hideInterestModalUntil")}const h=localStorage.getItem("hideModalTimestamp");if(h){const g=new Date(parseInt(h,10)),j=new Date;if(g.toDateString()===j.toDateString())return;localStorage.removeItem("hideModalTimestamp")}const I=Math.random();let r;I<.8?r="join":r="donate",f(c[r]);const b=setTimeout(()=>{l(!0)},4500);return()=>clearTimeout(b)},[]),d?e.jsxs(n,{show:d,onHide:m,centered:!0,children:[e.jsx(n.Header,{closeButton:!0,children:e.jsxs(n.Title,{className:"section-title fw-bold align-content-center",children:[e.jsx("img",{src:s.logoDadiBara,alt:"Logo",width:"50",className:"me-2"}),"Informasi!"]})}),e.jsx(n.Body,{className:"section-subtitle text-body",children:e.jsx("p",{children:i.message})}),e.jsxs(n.Footer,{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx(p.Check,{type:"radio",name:"interestOptions",id:"hideTodayRadio",label:"Jangan Tampilkan Selama Hari Ini.",value:"hideToday",checked:o==="hideToday",onChange:u,className:"section-subtitle"}),e.jsx(p.Check,{type:"radio",name:"interestOptions",id:"notInterestedRadio",label:"Saya Tidak Berminat.",value:"notInterested",checked:o==="notInterested",onChange:u,className:"section-subtitle"})]}),e.jsx(S,{variant:"primary",as:T,to:i.buttonLink,onClick:m,className:"section-subtitle fw-bold text-light",children:i.buttonText})]})]}):null}export{w as default};
