const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/InterestModal-BV6XVdUt.js","assets/vendor-Cul97NbA.js","assets/vendor--KHUR0K4.css","assets/index-STTFwuxj.js","assets/index-CiGYy_LI.css","assets/Gallery-DHwKGHfN.js","assets/usePagination-D2N1ObOo.js","assets/About-byavlvm-.js","assets/JadwalKegiatan-B7KvJcSC.js","assets/FAQ-DKUqXGsf.js","assets/ContactUs-BQCOC9dR.js","assets/LoginPage-CoV0-VMF.js","assets/VerificationStep-DbK0P52A.js","assets/RegisterPage-bmJCZa0b.js","assets/Pengurus-GXmOb9AC.js","assets/SK-CEhZurSe.js","assets/Profile-cMLy29xv.js","assets/useCustomSwals-CUxdPQJE.js","assets/PendaftaranAnggota-Ive3zh6e.js","assets/Presensi-DueELu9s.js","assets/Donation-CUwDVto9.js","assets/Footer-BBKiSRpA.js"])))=>i.map(i=>d[i]);
import{A as I,U as P,i as W,T as Y,_ as n}from"./index-STTFwuxj.js";import{r as a,d as U,u as C,j as e,e as p,C as G,f as m,I as z,F as V,g as F,i as w,k as J,l as $,m as q,n as h,o as Q,p as X,q as Z,s as ee,v as se,M as ae,w as te,x as ne,y as R,A as k,z as re,D as ie,E as O,J as oe,S as le,N as _,R as B,b as r}from"./vendor-Cul97NbA.js";import{T as K}from"./ThemeSwitcher-Crmr5owH.js";const ce=()=>{const{data:t}=a.useContext(I),{user:s,setUser:o}=a.useContext(P),[i,d]=a.useState(window.innerWidth<990),l=U(),u=C(),[c,x]=a.useState(!0),[j,D]=a.useState(0);a.useEffect(()=>{const f=()=>d(window.innerWidth<990),b=()=>{if(i||window.scrollY<100){x(!0);return}window.scrollY>j?x(!1):x(!0),D(window.scrollY)};return window.addEventListener("resize",f),window.addEventListener("scroll",b,{passive:!0}),()=>{window.removeEventListener("resize",f),window.removeEventListener("scroll",b)}},[j,i]);const g=()=>{l("/profile",{state:{from:u.pathname}})},S=async()=>{try{await W.get("/auth/logout",{withCredentials:!0}),sessionStorage.clear(),o(null),ne(),R.success("Logout berhasil!"),l("/")}catch{R.error("Logout gagal, Refresh halaman dan coba lagi.")}};return e.jsx(p,{expand:"lg",className:`navbar sticky-top ${c?"":"navbar--hidden"}`,children:e.jsxs(G,{className:"d-flex justify-content-between align-items-center",children:[e.jsx(p.Brand,{as:m,to:"/#home",children:e.jsx("img",{src:t.logoDadiBara,alt:"Logo",width:"70",height:"auto"})}),i&&e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(K,{}),s?e.jsx(z,{src:s?.profilePicture||"/default-avatar.png",alt:"Profil",roundedCircle:!0,onClick:g,style:{width:"40px",height:"40px",objectFit:"cover",cursor:"pointer",margin:"0 8px",border:"3px solid darkcyan",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.55)",backgroundColor:"darkcyan"}}):e.jsxs(m,{to:"/login",state:{background:u},className:"btn sidebar-link me-2 shadow",children:[e.jsx(V,{className:"me-2"}),"Login"]}),e.jsx(p.Toggle,{"aria-controls":"basic-navbar-nav",className:"shadow",children:e.jsx(F,{style:{fontSize:"1.8rem"}})})]}),!i&&e.jsx(p.Toggle,{"aria-controls":"basic-navbar-nav",className:"border-0",children:e.jsx(F,{style:{color:"black",fontSize:"1.5rem"}})}),e.jsx(p.Collapse,{id:"basic-navbar-nav",className:"justify-content-center",children:e.jsxs(w,{children:[e.jsxs(w.Link,{as:m,to:"/#home",children:[e.jsx(J,{className:"me-2"})," Beranda"]}),e.jsxs(w.Link,{as:m,to:"/#jadwal",children:[e.jsx($,{className:"me-2"})," Jadwal Kegiatan"]}),s&&s.role==="user"&&e.jsxs(w.Link,{as:m,to:"/presensi",children:[e.jsx(q,{className:"me-2"})," Presensi"]}),e.jsxs(h,{title:e.jsxs(e.Fragment,{children:[e.jsx(Z,{className:"me-2"})," Keanggotaan"]}),id:"navbarDropdown",children:[e.jsxs(h.Item,{as:m,to:"/pengurus",children:[e.jsx(Q,{className:"me-2"}),"Pengurus ",t.namaOrganisasi]}),e.jsxs(h.Item,{as:m,to:"/sk",children:[e.jsx(X,{className:"me-2"}),"SK ",t.namaOrganisasi]})]}),(!s||s.role!=="admin"&&s.role!=="superAdmin")&&e.jsxs(w.Link,{as:m,to:"/#contact-us",children:[e.jsx(ee,{className:"me-2"})," Kontak Kami"]})]})}),!i&&e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(K,{}),s?e.jsxs(h,{title:e.jsx(z,{src:s?.profilePicture||"/default-avatar.png",alt:"Profil",roundedCircle:!0,style:{width:"50px",height:"50px",objectFit:"cover",cursor:"pointer",border:"2px solid",backgroundColor:"darkblue"},className:"shadow-lg border-black-emphasis"}),id:"user-dropdown",align:"end",className:"profile-dropdown",children:[e.jsxs(h.Item,{onClick:g,children:[e.jsx(se,{className:"m-2"})," Profil Saya"]}),(s.role==="admin"||s.role==="superAdmin")&&e.jsxs(h.Item,{onClick:()=>l("/admin"),children:[e.jsx(ae,{className:"m-2"})," Dashboard"]}),e.jsx(h.Divider,{}),e.jsxs(h.Item,{onClick:S,className:"fw-bold",children:[e.jsx(te,{className:"m-2"})," Logout"]})]}):e.jsxs(m,{to:"/login",state:{background:u},className:"btn sidebar-link shadow",children:[e.jsx(V,{className:"me-1"})," Login"]}),e.jsx("div",{style:{width:"3px",height:"65px",backgroundColor:"darkcyan",margin:"0 6px",borderRadius:"9px"}}),e.jsx(p.Brand,{href:"https://www.bejalen.com/",rel:"noreferrer",children:e.jsx("img",{src:t.logoDesaBaru,alt:"LogoDesa",width:"70",height:"auto"})})]})]})})},N=()=>{const{data:t}=a.useContext(I),[s,o]=a.useState(!1),[i,d]=a.useState(window.innerWidth<768);return a.useEffect(()=>{k.init({duration:1750,easing:"ease-in-out",once:!1}),k.refresh();const l=setTimeout(()=>{window.scrollTo(0,0)},49800),u=setTimeout(()=>{o(!0)},29900),c=()=>{d(window.innerWidth<768)};return window.addEventListener("resize",c),()=>{clearTimeout(l),clearTimeout(u),window.removeEventListener("resize",c)}},[]),e.jsxs("section",{id:"home",className:"hero-section d-flex align-items-center",children:[e.jsxs(re,{children:[e.jsx("title",{children:"Beranda | Karang Taruna Desa Bejalen"}),e.jsx("meta",{name:"description",content:"Karang Taruna Dadi Bara - Organisasi bersama dalam mengembangkan kesejahteraan sosial di Bejalen, Ambarawa."}),e.jsx("link",{rel:"canonical",href:"https://dadibara.bejalen.com/"}),e.jsx("script",{type:"application/ld+json",children:`
            {
              "@context": "https://schema.org",
              "@type": "WebSite",
              "name": "Karang Taruna DADI BARA",
              "url": "https://dadibara.bejalen.com/"
            }
          `})]}),e.jsx("div",{className:"container",children:e.jsxs("div",{className:"row align-items-center",children:[e.jsx("div",{className:"col-lg-6 order-lg-2 text-center","data-aos":"slide-down",children:e.jsx("img",{src:t.logoDadiBara,alt:"Logo",className:"img-fluid pb-4",width:"300",height:"300"})}),e.jsxs("div",{className:"col-lg-6 order-lg-1 align-items-center text-center","data-aos":"fade-up",children:[e.jsxs("h3",{className:"section-title fw-bold lh-2 mb-3",style:{fontSize:"215%"},children:["KARANG TARUNA",e.jsx("br",{}),t.namaOrganisasi]}),e.jsxs("h4",{className:"my-3",children:["Selamat Datang",e.jsx("br",{}),"Di Website Karang Taruna",e.jsx("br",{}),"Desa Bejalen Ambarawa",e.jsx("br",{}),e.jsx("b",{children:t.tagline})]}),e.jsx("div",{className:"mt-4",children:e.jsxs(ie,{className:"justify-content-center gx-3",children:[e.jsx(O,{xs:10,sm:8,md:"auto",children:e.jsx(oe,{as:"a",href:"/gallery",className:"btn explore-btn shadow","data-aos":"fade-left",children:"Jelajahi Galeri"})}),i&&s&&e.jsx(O,{xs:10,sm:8,md:"auto",className:"mt-2 mt-md-0",children:e.jsx("a",{href:"/pengurus",className:"btn explore-btn shadow","data-aos":"fade-right",children:"Lihat Pengurus"})})]})})]})]})})]})},de=({imageUrl:t,onTransitionEnd:s})=>{const{data:o}=a.useContext(I),[i,d]=a.useState(""),[l,u]=a.useState(!0);return a.useEffect(()=>{if(l){d("zoom-in");const c=setTimeout(()=>{d("zoom-out")},800),x=setTimeout(()=>{d("fade-out")},1900),j=setTimeout(()=>{u(!1),s()},2700);return()=>{clearTimeout(c),clearTimeout(x),clearTimeout(j)}}else d("")},[l,s]),l&&e.jsx("div",{className:`transition-overlay ${i}`,children:e.jsx("div",{className:"transition-image-container",children:e.jsx("img",{src:o.logoDadiBara,alt:"Logo",className:"transition-image"})})})},ue=({children:t})=>{const{user:s,loading:o}=a.useContext(P);return o?e.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:e.jsx(le,{animation:"border"})}):s?t:e.jsx(_,{to:"/",replace:!0})},me=({children:t})=>{const s=C(),{user:o}=a.useContext(P);return o?e.jsx(_,{to:"/profile",replace:!0}):s.state?.email||localStorage.getItem("verificationEmail")?t:(R.warn("Harap lakukan registrasi atau login terlebih dahulu."),e.jsx(_,{to:"/register",state:{background:s},replace:!0}))},he=a.lazy(()=>n(()=>import("./InterestModal-BV6XVdUt.js"),__vite__mapDeps([0,1,2,3,4]))),xe=a.lazy(()=>n(()=>import("./Gallery-DHwKGHfN.js"),__vite__mapDeps([5,1,2,3,4,6]))),y=a.lazy(()=>n(()=>import("./About-byavlvm-.js"),__vite__mapDeps([7,1,2,3,4]))),E=a.lazy(()=>n(()=>import("./JadwalKegiatan-B7KvJcSC.js"),__vite__mapDeps([8,1,2,3,4]))),L=a.lazy(()=>n(()=>import("./FAQ-DKUqXGsf.js"),__vite__mapDeps([9,1,2,3,4]))),A=a.lazy(()=>n(()=>import("./ContactUs-BQCOC9dR.js"),__vite__mapDeps([10,1,2,3,4]))),ge=a.lazy(()=>n(()=>import("./LoginPage-CoV0-VMF.js"),__vite__mapDeps([11,1,2,12,3,4]))),je=a.lazy(()=>n(()=>import("./RegisterPage-bmJCZa0b.js"),__vite__mapDeps([13,1,2,3,4]))),M=a.lazy(()=>n(()=>import("./VerificationStep-DbK0P52A.js"),__vite__mapDeps([12,1,2,3,4]))),pe=a.lazy(()=>n(()=>import("./Pengurus-GXmOb9AC.js"),__vite__mapDeps([14,1,2,3,4]))),fe=a.lazy(()=>n(()=>import("./SK-CEhZurSe.js"),__vite__mapDeps([15,1,2,3,4]))),be=a.lazy(()=>n(()=>import("./Profile-cMLy29xv.js"),__vite__mapDeps([16,1,2,3,4,17]))),we=a.lazy(()=>n(()=>import("./PendaftaranAnggota-Ive3zh6e.js"),__vite__mapDeps([18,1,2,3,4]))),_e=a.lazy(()=>n(()=>import("./Presensi-DueELu9s.js"),__vite__mapDeps([19,1,2,3,4]))),ve=a.lazy(()=>n(()=>import("./Donation-CUwDVto9.js"),__vite__mapDeps([20,1,2,3,4]))),Te=a.lazy(()=>n(()=>import("./Footer-BBKiSRpA.js"),__vite__mapDeps([21,1,2,3,4])));function Le(){const{user:t}=a.useContext(P),s=C(),o=U(),[i,d]=a.useState(!1),[l,u]=a.useState(s.pathname),c=s.state?.background,x=s.pathname==="/login",j=s.pathname==="/register",D=["/","/gallery","/pengurus","/sk","/profile","/pendaftaran","/donation","/presensi"],g=()=>o(c?.pathname||"/",{replace:!0}),S=()=>o("/register",{state:{background:c||s}}),f=()=>o("/login",{state:{background:c||s}});a.useEffect(()=>{if(k.init({duration:1750,easing:"ease-in-out",once:!0}),s.hash){const v=s.hash.replace("#",""),T=document.getElementById(v);T&&setTimeout(()=>{T.scrollIntoView({behavior:"smooth"})},750)}},[s]),a.useEffect(()=>{const v=T=>{switch(T){case"/":return"Beranda";case"/gallery":return"Galeri";case"/pengurus":return"Pengurus";case"/sk":return"Surat Keputusan";case"/profile":return"Profil";case"/pendaftaran":return"Pendaftaran Anggota";case"/presensi":return"Presensi Anggota";case"/donation":return"Donasi";case"/login":return"Login";case"/register":return"Daftar Akun";case"/verification":return"Verifikasi Akun Anda";default:return"DADI BARA"}};document.title=`${v(s.pathname)} | Karang Taruna DADI BARA`,D.includes(s.pathname)&&s.pathname!==l&&(d(!0),u(s.pathname))},[s,l]);const b=()=>e.jsxs(e.Fragment,{children:[e.jsx(N,{}),e.jsx(y,{}),e.jsx(E,{}),e.jsx(L,{}),e.jsx(A,{})]}),H=()=>{d(!1),["/gallery","/pengurus","/sk","/profile","/pendaftaran","/donation","/presensi"].includes(s.pathname)&&window.innerWidth>991&&window.scrollTo(0,1),k.refresh()};return e.jsxs(e.Fragment,{children:[!i&&e.jsx(ce,{}),e.jsxs("div",{style:{overflowX:"hidden"},children:[i&&e.jsx(de,{imageUrl:"https://github.com/mazdanwllsyh/dadibara/blob/main/assets/Logo.png?raw=true",onTransitionEnd:H}),e.jsx(a.Suspense,{fallback:e.jsx("div",{className:"container d-flex flex-column justify-content-center align-items-center vh-100 SF-UIDisplay fw-bold",children:"Sedang Memuat Halaman..."}),children:e.jsxs(B,{location:c||s,children:[e.jsx(r,{path:"/",element:e.jsxs(e.Fragment,{children:[e.jsx(N,{}),e.jsx(y,{}),e.jsx(E,{}),e.jsx(L,{}),e.jsx(A,{})]})}),e.jsx(r,{path:"/gallery",element:e.jsx(xe,{})}),e.jsx(r,{path:"/pengurus",element:e.jsx(pe,{})}),e.jsx(r,{path:"/sk",element:e.jsx(fe,{})}),e.jsx(r,{path:"/presensi",element:e.jsx(_e,{})}),e.jsx(r,{path:"/pendaftaran",element:e.jsx(we,{})}),e.jsx(r,{path:"/donation",element:e.jsx(ve,{})}),e.jsx(r,{path:"/profile",element:e.jsx(ue,{children:e.jsx(be,{})})}),e.jsx(r,{path:"/login",element:t?e.jsx(_,{to:"/",replace:!0}):e.jsxs(e.Fragment,{children:[e.jsx(N,{}),e.jsx(y,{}),e.jsx(E,{}),e.jsx(L,{}),e.jsx(A,{})]})}),e.jsx(r,{path:"/register",element:t?e.jsx(_,{to:"/profile",replace:!0}):e.jsxs(e.Fragment,{children:[e.jsx(N,{}),e.jsx(y,{}),e.jsx(E,{}),e.jsx(L,{}),e.jsx(A,{})]})}),e.jsx(r,{path:"/verification",element:e.jsxs(me,{children:[e.jsx(M,{show:!0,handleClose:g}),e.jsx(b,{})]})}),e.jsx(r,{path:"*",element:e.jsx(b,{})})]})}),!i&&e.jsx(Te,{}),(c||["/login","/register","/verification"].includes(s.pathname))&&e.jsx(a.Suspense,{fallback:e.jsx("div",{children:"Memuat Modal..."}),children:e.jsxs(B,{children:[e.jsx(r,{path:"/login",element:e.jsx(ge,{show:!0,handleClose:g,handleShowRegister:S})}),e.jsx(r,{path:"/register",element:e.jsx(je,{show:!0,handleClose:g,handleShowLogin:f})}),e.jsx(r,{path:"/verification",element:e.jsx(M,{show:!0,handleClose:g})})]})}),t&&t.role==="user"&&!x&&!j&&s.pathname!=="/pendaftaran"&&s.pathname!=="/presensi"&&s.pathname!=="/donation"&&e.jsx(he,{}),e.jsx(Y,{})]})]})}export{Le as default};
